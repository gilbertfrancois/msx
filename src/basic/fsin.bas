1000 ' Choniometric lookup table
1010 ' Gilbert Francois Duivesteijn
1011 '
1015 ' The lookup table is about
1016 ' 5 times faster than computing
1017 ' sin(x) and cos(x) directly.
1018 '
1020 '
1030 COLOR 1, 15, 15
1040 CLS
1050 OPEN "grp:" FOR OUTPUT AS #1
1060 PI=ATN(1)*4
1070 ' sin(x) lookup table from
1080 ' 0 to 359 degrees.
1090 DIM TBL(360)
1095 PRINT "Building lookup table, please wait..."
1100 GOSUB 5000
1110 ' Fast sin(x) function
1120 DEF FN FS(X)=TBL(X)
1130 ' Fast cos(x) function
1140 DEF FN FC(X)=TBL((X+90) MOD 360)
1145 ' Main
1150 SCREEN 2
1160 BEEP
1170 LINE(37, 96)-(217,96),1
1180 LINE(37,0)-(37,191),1
1190 T0 = TIME
1200 FOR X=0 TO 180
1210 X1 = X
1220 PSET(X+37, FN FS(X1)*-96+96),8
1230 X2 = X
1240 PSET(X+37, FN FC(X2)*-96+96),8
1250 NEXT X
1260 BEEP
1270 T1= TIME
1280 CF=8: A0=40: B0=176: LB$=STR$((T1-T0)/50)+" sec."
1290 GOSUB 1430
1300 T0 = TIME
1310 FOR X=0 TO 180
1320 X1 = X/180*PI
1330 PSET(X+37, -96*SIN(X1)+96),4
1340 X2 = X1
1350 PSET(X+37, -96*COS(X2)+96),4
1360 NEXT X
1370 T1= TIME
1380 CF=4: A0=40: B0=184: LB$=STR$((T1-T0)/50)+" sec."
1390 GOSUB 1430
1400 BEEP
1410 GOTO 1410
1420 END
1430 '
1440 ' Print label
1450 ' in: A0, B0, LB$
1460 '
1470 IF LB$="0" THEN LB$="0000"
1480 FOR I=1 TO LEN(LB$)
1490 DRAW "BM"+STR$(A0+6*I)+","+STR$(B0)
1500 'PRESET(A0+6*I,B0),CB
1510 COLOR CF
1520 PRINT #1,MID$(LB$,I,1)
1530 NEXT I
1540 RETURN
5000 '
5010 ' Create lookup tables
5020 '
5030 ' in : tbl: sin lookup table
5040 ' out: tbl
5050 '
5060 FOR I=0 TO 359
5070 READ TBL(I)
5080 NEXT I
5090 RETURN
5100 END
5110 DATA 0.000000000000000, 0.017452406437284
5120 DATA 0.034899496702501, 0.052335956242944
5130 DATA 0.069756473744125, 0.087155742747658
5140 DATA 0.104528463267653, 0.121869343405147
5150 DATA 0.139173100960065, 0.156434465040231
5160 DATA 0.173648177666930, 0.190808995376545
5170 DATA 0.207911690817759, 0.224951054343865
5180 DATA 0.241921895599668, 0.258819045102521
5190 DATA 0.275637355816999, 0.292371704722737
5200 DATA 0.309016994374947, 0.325568154457157
5210 DATA 0.342020143325669, 0.358367949545300
5220 DATA 0.374606593415912, 0.390731128489274
5230 DATA 0.406736643075800, 0.422618261740699
5240 DATA 0.438371146789077, 0.453990499739547
5250 DATA 0.469471562785891, 0.484809620246337
5260 DATA 0.500000000000000, 0.515038074910054
5270 DATA 0.529919264233205, 0.544639035015027
5280 DATA 0.559192903470747, 0.573576436351046
5290 DATA 0.587785252292473, 0.601815023152048
5300 DATA 0.615661475325658, 0.629320391049837
5310 DATA 0.642787609686539, 0.656059028990507
5320 DATA 0.669130606358858, 0.681998360062498
5330 DATA 0.694658370458997, 0.707106781186547
5340 DATA 0.719339800338651, 0.731353701619170
5350 DATA 0.743144825477394, 0.754709580222772
5360 DATA 0.766044443118978, 0.777145961456971
5370 DATA 0.788010753606722, 0.798635510047293
5380 DATA 0.809016994374947, 0.819152044288992
5390 DATA 0.829037572555042, 0.838670567945424
5400 DATA 0.848048096156426, 0.857167300702112
5410 DATA 0.866025403784439, 0.874619707139396
5420 DATA 0.882947592858927, 0.891006524188368
5430 DATA 0.898794046299167, 0.906307787036650
5440 DATA 0.913545457642601, 0.920504853452440
5450 DATA 0.927183854566787, 0.933580426497202
5460 DATA 0.939692620785908, 0.945518575599317
5470 DATA 0.951056516295154, 0.956304755963035
5480 DATA 0.961261695938319, 0.965925826289068
5490 DATA 0.970295726275996, 0.974370064785235
5500 DATA 0.978147600733806, 0.981627183447664
5510 DATA 0.984807753012208, 0.987688340595138
5520 DATA 0.990268068741570, 0.992546151641322
5530 DATA 0.994521895368273, 0.996194698091746
5540 DATA 0.997564050259824, 0.998629534754574
5550 DATA 0.999390827019096, 0.999847695156391
5560 DATA 1.000000000000000, 0.999847695156391
5570 DATA 0.999390827019096, 0.998629534754574
5580 DATA 0.997564050259824, 0.996194698091746
5590 DATA 0.994521895368273, 0.992546151641322
5600 DATA 0.990268068741570, 0.987688340595138
5610 DATA 0.984807753012208, 0.981627183447664
5620 DATA 0.978147600733806, 0.974370064785235
5630 DATA 0.970295726275996, 0.965925826289068
5640 DATA 0.961261695938319, 0.956304755963036
5650 DATA 0.951056516295154, 0.945518575599317
5660 DATA 0.939692620785908, 0.933580426497202
5670 DATA 0.927183854566787, 0.920504853452440
5680 DATA 0.913545457642601, 0.906307787036650
5690 DATA 0.898794046299167, 0.891006524188368
5700 DATA 0.882947592858927, 0.874619707139396
5710 DATA 0.866025403784439, 0.857167300702112
5720 DATA 0.848048096156426, 0.838670567945424
5730 DATA 0.829037572555042, 0.819152044288992
5740 DATA 0.809016994374947, 0.798635510047293
5750 DATA 0.788010753606722, 0.777145961456971
5760 DATA 0.766044443118978, 0.754709580222772
5770 DATA 0.743144825477394, 0.731353701619171
5780 DATA 0.719339800338651, 0.707106781186548
5790 DATA 0.694658370458997, 0.681998360062498
5800 DATA 0.669130606358858, 0.656059028990507
5810 DATA 0.642787609686539, 0.629320391049837
5820 DATA 0.615661475325658, 0.601815023152048
5830 DATA 0.587785252292473, 0.573576436351046
5840 DATA 0.559192903470747, 0.544639035015027
5850 DATA 0.529919264233205, 0.515038074910054
5860 DATA 0.500000000000000, 0.484809620246337
5870 DATA 0.469471562785891, 0.453990499739547
5880 DATA 0.438371146789077, 0.422618261740699
5890 DATA 0.406736643075800, 0.390731128489274
5900 DATA 0.374606593415912, 0.358367949545300
5910 DATA 0.342020143325669, 0.325568154457157
5920 DATA 0.309016994374948, 0.292371704722737
5930 DATA 0.275637355816999, 0.258819045102521
5940 DATA 0.241921895599668, 0.224951054343865
5950 DATA 0.207911690817759, 0.190808995376545
5960 DATA 0.173648177666930, 0.156434465040231
5970 DATA 0.139173100960065, 0.121869343405148
5980 DATA 0.104528463267654, 0.087155742747658
5990 DATA 0.069756473744126, 0.052335956242944
6000 DATA 0.034899496702501, 0.017452406437283
6010 DATA 0.000000000000000, -0.017452406437284
6020 DATA -0.034899496702501, -0.052335956242944
6030 DATA -0.069756473744125, -0.087155742747658
6040 DATA -0.104528463267653, -0.121869343405147
6050 DATA -0.139173100960066, -0.156434465040231
6060 DATA -0.173648177666930, -0.190808995376545
6070 DATA -0.207911690817760, -0.224951054343865
6080 DATA -0.241921895599668, -0.258819045102521
6090 DATA -0.275637355816999, -0.292371704722737
6100 DATA -0.309016994374947, -0.325568154457157
6110 DATA -0.342020143325669, -0.358367949545300
6120 DATA -0.374606593415912, -0.390731128489274
6130 DATA -0.406736643075800, -0.422618261740699
6140 DATA -0.438371146789077, -0.453990499739547
6150 DATA -0.469471562785891, -0.484809620246337
6160 DATA -0.500000000000000, -0.515038074910054
6170 DATA -0.529919264233205, -0.544639035015027
6180 DATA -0.559192903470747, -0.573576436351046
6190 DATA -0.587785252292473, -0.601815023152048
6200 DATA -0.615661475325658, -0.629320391049838
6210 DATA -0.642787609686539, -0.656059028990507
6220 DATA -0.669130606358858, -0.681998360062498
6230 DATA -0.694658370458997, -0.707106781186547
6240 DATA -0.719339800338651, -0.731353701619170
6250 DATA -0.743144825477394, -0.754709580222772
6260 DATA -0.766044443118978, -0.777145961456971
6270 DATA -0.788010753606722, -0.798635510047293
6280 DATA -0.809016994374947, -0.819152044288992
6290 DATA -0.829037572555042, -0.838670567945424
6300 DATA -0.848048096156426, -0.857167300702112
6310 DATA -0.866025403784438, -0.874619707139396
6320 DATA -0.882947592858927, -0.891006524188368
6330 DATA -0.898794046299167, -0.906307787036650
6340 DATA -0.913545457642601, -0.920504853452440
6350 DATA -0.927183854566787, -0.933580426497202
6360 DATA -0.939692620785908, -0.945518575599317
6370 DATA -0.951056516295154, -0.956304755963035
6380 DATA -0.961261695938319, -0.965925826289068
6390 DATA -0.970295726275996, -0.974370064785235
6400 DATA -0.978147600733806, -0.981627183447664
6410 DATA -0.984807753012208, -0.987688340595138
6420 DATA -0.990268068741570, -0.992546151641322
6430 DATA -0.994521895368273, -0.996194698091746
6440 DATA -0.997564050259824, -0.998629534754574
6450 DATA -0.999390827019096, -0.999847695156391
6460 DATA -1.000000000000000, -0.999847695156391
6470 DATA -0.999390827019096, -0.998629534754574
6480 DATA -0.997564050259824, -0.996194698091746
6490 DATA -0.994521895368273, -0.992546151641322
6500 DATA -0.990268068741570, -0.987688340595138
6510 DATA -0.984807753012208, -0.981627183447664
6520 DATA -0.978147600733806, -0.974370064785235
6530 DATA -0.970295726275997, -0.965925826289068
6540 DATA -0.961261695938319, -0.956304755963035
6550 DATA -0.951056516295154, -0.945518575599317
6560 DATA -0.939692620785908, -0.933580426497202
6570 DATA -0.927183854566787, -0.920504853452440
6580 DATA -0.913545457642601, -0.906307787036650
6590 DATA -0.898794046299167, -0.891006524188368
6600 DATA -0.882947592858927, -0.874619707139396
6610 DATA -0.866025403784439, -0.857167300702112
6620 DATA -0.848048096156426, -0.838670567945424
6630 DATA -0.829037572555042, -0.819152044288992
6640 DATA -0.809016994374948, -0.798635510047293
6650 DATA -0.788010753606722, -0.777145961456971
6660 DATA -0.766044443118978, -0.754709580222772
6670 DATA -0.743144825477395, -0.731353701619170
6680 DATA -0.719339800338651, -0.707106781186548
6690 DATA -0.694658370458998, -0.681998360062498
6700 DATA -0.669130606358858, -0.656059028990507
6710 DATA -0.642787609686540, -0.629320391049838
6720 DATA -0.615661475325658, -0.601815023152048
6730 DATA -0.587785252292473, -0.573576436351046
6740 DATA -0.559192903470747, -0.544639035015027
6750 DATA -0.529919264233205, -0.515038074910054
6760 DATA -0.500000000000000, -0.484809620246337
6770 DATA -0.469471562785891, -0.453990499739547
6780 DATA -0.438371146789078, -0.422618261740699
6790 DATA -0.406736643075800, -0.390731128489274
6800 DATA -0.374606593415912, -0.358367949545301
6810 DATA -0.342020143325669, -0.325568154457157
6820 DATA -0.309016994374948, -0.292371704722737
6830 DATA -0.275637355816999, -0.258819045102521
6840 DATA -0.241921895599668, -0.224951054343865
6850 DATA -0.207911690817760, -0.190808995376545
6860 DATA -0.173648177666930, -0.156434465040231
6870 DATA -0.139173100960066, -0.121869343405147
6880 DATA -0.104528463267653, -0.087155742747658
6890 DATA -0.069756473744126, -0.052335956242944
6900 DATA -0.034899496702501, -0.017452406437284
